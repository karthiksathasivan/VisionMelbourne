@model VisionMelbourneV3.Models.UserPlan
@{
    ViewBag.Title = "Plan Creator";
    int pedcount = Convert.ToInt32(Model.PeopleCount);
    TimeSpan time = (TimeSpan)Model.Time;
    var travtime = time.ToString(@"hh\:mm");
    var traffic = "";
}
<style>
    .card {
        box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
        transition: 0.3s;
        width: 100%;
        height: 20%;
        word-wrap: break-word;
    }

        .card:hover {
            box-shadow: 0 16px 32px 0 rgba(0,0,0,0.2);
            cursor: pointer;
        }

    .cardContainer {
        padding: 10px 16px;
    }


    #myBtn {
        display: none;
        position: fixed;
        bottom: 20px;
        right: 30px;
        z-index: 99;
        border: none;
        outline: none;
        background-color: deepskyblue;
        color: white;
        cursor: pointer;
        padding: 15px;
        border-radius: 50%;
    }

        #myBtn:hover {
            background-color: #555;
        }
</style>

@if (@Model.Location != null)
{
    
    <div id="content" class="card" onclick="doTTS()">
        <div class="cardContainer">
            <div class="row">
                <div class="col-md-8"><p><i class="fa fa-map-marker fa-2x fa-lg"></i><b>@Html.DisplayFor(modelItem => modelItem.Location)</b></p></div>
                @if (time.Hours >= 12)
                {<div class="col-md-4"><p><b>Time : @Html.Label(time.ToString(@"hh\:mm"))pm</b></p></div> }
            else
            { <div class="col-md-4"><p><b>Time : @Html.Label(time.ToString(@"hh\:mm"))am</b></p></div>}

            </div>
            <hr />
            <div class=" row">
                <div class="col-md-4">
                    <p><b>Pedestrian Traffic</b></p>
                    @if (pedcount == 0)
                    {
                        <div class="row cardContainer">
                            <i class="fa fa-frown-o fa-2x fa-lg"></i>
                            <p>Sorry no info found!</p>
                            @{traffic = "Sorry no pedestrian traffic info found at your planned location!";
                            }
                        </div>

                    }
                    @if (pedcount <= 1000 && pedcount > 0)
                    {
                        <div class="row cardContainer">
                            <i class="fa fa-male fa-2x fa-lg"></i> <i class="fa fa-female fa-2x fa-lg"></i>
                            <p>Free Street!</p>
                            @{traffic = "The Streets are free!";
                            }
                        </div>

                    }

                    @if (pedcount <= 2000 && pedcount > 1000)
                    {
                        <div class="row cardContainer">
                            <i class="fa fa-male fa-2x fa-lg"></i><i class="fa fa-female fa-2x fa-lg"></i>
                            <i class="fa fa-male fa-2x fa-lg"></i><i class="fa fa-female fa-2x fa-lg"></i>
                            <p>Busy street!</p>
                            @{traffic = "The Streets are Busy!";
                            }
                        </div>
                    }
                    @if (pedcount > 2000)
                    {
                        <div class="row cardContainer">
                            <i class="fa fa-male fa-2x fa-lg"></i><i class="fa fa-female fa-2x fa-lg"></i>
                            <i class="fa fa-male fa-2x fa-lg"></i><i class="fa fa-female fa-2x fa-lg"></i>
                            <i class="fa fa-male fa-2x fa-lg"></i><i class="fa fa-female fa-2x fa-lg"></i>
                            <p>Crowder Than Usual!</p>
                            @{traffic = "The Streets are Crowded!";
                            }
                        </div>
                    }
                </div>
            </div>
            <div></div>
        </div>
    </div>
    <br />
}


<script type="text/javascript">
    function doTTS() {
        document.getElementById('content').onclick = function () {
            var text = "You have planned to travel to @Model.Location at @travtime @traffic";
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.pitch = 1.5;
            utterance.volume = 1.5;
            utterance.rate = 1;
            speechSynthesis.speak(utterance);
        }
    }
</script>



